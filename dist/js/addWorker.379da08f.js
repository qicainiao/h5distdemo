(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addWorker"],{"8d7b":function(e,a,o){},"9e690":function(e,a,o){"use strict";o.r(a);var t,s=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",{staticClass:"addprofessional"},[o("jy-n-field",{attrs:{label:e.$t("addworker.worker"),"arrow-icon":"jy-jiantou_you",disabled:"",type:"textarea",rows:"1",maxlength:"255",autosize:""},on:{"click-arrow-icon":function(a){return e.showDialog("worker")}},model:{value:e.dialogDatas.worker.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.worker.value,"DICNAME",a)},expression:"dialogDatas.worker.value.DICNAME"}}),o("jy-n-field",{attrs:{label:e.$t("addworker.income"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("income")}},model:{value:e.dialogDatas.income.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.income.value,"DICNAME",a)},expression:"dialogDatas.income.value.DICNAME"}}),o("jy-n-field",{attrs:{label:e.$t("addworker.salaryDate"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("salaryDate")}},model:{value:e.dialogDatas.salaryDate.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.salaryDate.value,"DICNAME",a)},expression:"dialogDatas.salaryDate.value.DICNAME"}}),o("jy-n-field",{attrs:{label:e.$t("addworker.payway"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("payway")}},model:{value:e.dialogDatas.payway.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.payway.value,"DICNAME",a)},expression:"dialogDatas.payway.value.DICNAME"}}),o("jy-n-field",{attrs:{type:"textarea",rows:"1",maxlength:"255",autosize:"",label:e.$t("addworker.company")},model:{value:e.addWorker.company,callback:function(a){e.$set(e.addWorker,"company",a)},expression:"addWorker.company"}}),o("jy-n-field",{attrs:{label:e.$t("addworker.area"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("area")}},model:{value:e.area,callback:function(a){e.area=a},expression:"area"}}),o("div",{staticClass:"add-margin"}),o("jy-n-field",{attrs:{type:"textarea",rows:"1",maxlength:"255",autosize:"",placeholder:e.$t("addworker.address")},model:{value:e.addWorker.address,callback:function(a){e.$set(e.addWorker,"address",a)},expression:"addWorker.address"}}),o("jy-n-field",{attrs:{type:"number",label:e.$t("addworker.phone"),maxlength:"12",error:e.errors&&e.errors.phone&&e.errors.phone.error},model:{value:e.addWorker.phone,callback:function(a){e.$set(e.addWorker,"phone",a)},expression:"addWorker.phone"}}),o("div",{staticClass:"choose-type"},[o("p",[e._v(e._s(e.$t("addworker.uploadTip")))]),o("div",{staticClass:"van-cell__title .van-n-field__control choose-label",on:{click:function(a){return e.showDialog("certificate")}}},[o("span",[e._v(e._s(e.dialogDatas.certificate.value.DICNAME||e.$t("addworker.chooseOne")))])]),o("div",{staticClass:"van-n-field__arrow-icon"},[o("jy-icon",{attrs:{name:"jy-jiantou_you"},on:{click:function(a){return e.showDialog("certificate")}}})],1)]),o("div",{staticClass:"photo photo-margin",on:{click:e.jyAppTakephoto}},[e.addWorker.fileUrl?o("img",{staticClass:"photo-img",attrs:{src:e.addWorker.fileUrl}}):o("jy-icon",{attrs:{name:"photograph",color:"#4285F4",size:"38px"}})],1),o("section",[o("jy-button",{attrs:{loading:e.saving,type:"primary",size:"large","loading-type":"spinner",disabled:e.hasEmpty},on:{click:e.handleSave}},[e._v(e._s(e.$t("addocr.save")))])],1),o("jy-n-radio-dialog",{attrs:{options:e.chooseObj.options,"selected-option":e.chooseObj.value,"confirm-button-text":"OKE","cancel-button-text":"BATAL","cancel-button-color":"#4285F4","close-on-click-overlay":""},on:{cancel:e.onCancel,confirm:e.onSelect},model:{value:e.show,callback:function(a){e.show=a},expression:"show"}}),o("jy-n-pop-area",{attrs:{districts:e.areaList,province:e.selectedAddress.province.value,city:e.selectedAddress.city.value,area:e.selectedAddress.area.value,title:e.$t("addressPop.choose"),placeholders:e.columnsPlaceholder,"close-on-click-overlay":""},on:{select:e.onSelectAddress},model:{value:e.showArea,callback:function(a){e.showArea=a},expression:"showArea"}})],1)},r=[],i=(o("a4d3"),o("4de4"),o("4160"),o("0d03"),o("b0c0"),o("e439"),o("dbb4"),o("b64b"),o("159b"),o("2fa7")),c=(o("2805"),o("a9bb")),n=(o("23de"),o("4223")),l=(o("546f"),o("e2f0")),d=(o("6e0d"),o("307b")),p=(o("7804"),o("d2a5")),u=(o("28a4"),o("4357")),h=(o("4747"),o("c96e")),y=(o("365c"),o("61f7")),f=o("2ef0"),b=o("ed08"),g=o("2f62"),v=o("5f87"),D=o("b893");function k(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,t)}return o}function w(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?k(o,!0).forEach((function(a){Object(i["a"])(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):k(o).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}var j={components:(t={},Object(i["a"])(t,h["a"].name,h["a"]),Object(i["a"])(t,u["a"].name,u["a"]),Object(i["a"])(t,p["a"].name,p["a"]),Object(i["a"])(t,d["a"].name,d["a"]),Object(i["a"])(t,l["a"].name,l["a"]),Object(i["a"])(t,n["a"].name,n["a"]),Object(i["a"])(t,c["a"].name,c["a"]),t),data:function(){return{show:!1,areaList:{},errors:[],showArea:!1,selectedAddress:{province:{code:"",value:""},city:{code:"",value:""},area:{code:"",value:""}},columnsPlaceholder:{province:"provinsi",city:"cota",area:"kecamatan"},file:void 0,addWorker:{company:"",address:"",phone:"",fileBase64:"",fileUrl:""},saving:!1,isDisable:!0,sexData:[],chooseObj:{type:"",options:[],value:{}},dialogDatas:{worker:{type:"worker",options:[],value:{}},income:{type:"income",options:[],value:{}},salaryDate:{type:"salaryDate",options:[],value:{}},payway:{type:"payway",options:[],value:{}},certificate:{type:"certificate",options:[],value:{}}}}},mounted:function(){var e=this.$route.query,a=e.applyId;e.cardNo,e.customerName,e.sexValue;console.log("====addWorker---applyId=====>",a),this.applyId=a,this.getProcessData()},watch:{file:function(e,a){console.log("================",e,a);var o=new FormData;o.append("file",e),this.saveCertificatePhoto(o)},"$store.state.addprofessional.workerPhoto":function(e){this.addWorker.fileUrl=e},"addWorker.address":{handler:function(e){console.log("=====addWorker.address======",e),Object(D["f"])(e)&&(Object(b["b"])("请不要输入表情"),this.addWorker.address=Object(D["b"])(e))}}},computed:{area:function(){return this.selectedAddress.province.value+" "+this.selectedAddress.city.value+" "+this.selectedAddress.area.value},hasEmpty:function(){return Object(y["d"])(this.addWorker,this.dialogDatas,this.selectedAddress)}},created:function(){Object(b["c"])({action:"jyAppGoPage",data:{pagerName:"addworker",pagerTitle:this.$i18n.t("pageTitle.addworker"),pagerType:"0"}}),this.setDialogDatas();for(var e=1;e<31;e++)this.dialogDatas.salaryDate.options.push({DICVALUE:"".concat(e),DICNAME:"".concat(e)}),this.$set(this.dialogDatas.salaryDate,"value",{DICVALUE:"15",DICNAME:""})},methods:w({jyAppTakephoto:function(){var e=this;Object(b["c"])({action:"jyAppTakephoto",callback:function(a){console.log("==jyAppTakephoto========",a),Object(b["d"])(!0),e.addWorker.fileBase64="data:image/png;base64,"+a.base64FileString,console.log(" _THIS.addWorker.fileBase64===>",e.addWorker.fileBase64),e.file=Object(D["a"])("data:image/png;base64,".concat(a.base64FileString),"".concat((new Date).valueOf(),".png")),console.log(" _THIS.file====>",e.file)},data:{width:0,height:0,iscompress:!1}})},getProcessData:function(){var e=this.getProcess();console.log("getProcessData====>",e),Object(f["isEmpty"])(e)&&(console.log("queryProcess====>"),this.queryProcess({custId:Object(v["a"])()}))}},Object(g["b"])(["saveWorker","saveCertificatePhoto","queryProcess"]),{},Object(g["c"])(["getDictionary","getAreaList","getProcess"]),{setDialogDatas:function(){console.log("this.getDictionary()=====>",this.getDictionary());var e=this.getDictionary(),a=e.APP_OCCUPATION,o=e.APP_MONTHLY_INCOME,t=e.APP_SALARY_METHOD,s=e.APP_FILE_TYPE;this.dialogDatas.worker.options=a||[],this.dialogDatas.income.options=o||[],this.dialogDatas.payway.options=t||[],this.dialogDatas.certificate.options=s||[];var r=this.getAreaList();console.log("areas====>",r),Object(f["isEmpty"])(r)?(console.log("1=====>"),this.jyAppSysAreas()):(console.log("2=====>"),this.areaList=r)},showDialog:function(e){"area"===e?this.showArea=!0:(this.show=!0,this.chooseObj=this.dialogDatas[e])},onSelect:function(e){this.show=!1,e&&(this.chooseObj.value=e,this.$set(this.dialogDatas[this.chooseObj.type],"value",e))},onCancel:function(){this.show=!1},onSelectAddress:function(e){this.selectedAddress=e,this.showArea=!1,console.log("onSelectAddress",e)},jyAppSysAreas:function(){var e=this;Object(b["c"])({action:"jyAppSysAreas",callback:function(a){console.log("jyAppSysAreas=回调数据=>",a),e.areaList=a},data:{languageType:"NY"}})},handleSave:function(){var e=Object(y["g"])(this.addWorker.phone);if(Object(f["isEmpty"])(e)){var a={applyId:this.applyId,custId:Object(v["a"])(),phone:Object(v["b"])(),companyTelephone:this.addWorker.phone,companyDetailAddr:this.addWorker.address,companyName:this.addWorker.company,occupationCode:this.dialogDatas.worker.value.DICVALUE,monthlyIncomeCode:this.dialogDatas.income.value.DICVALUE,payDay:this.dialogDatas.salaryDate.value.DICVALUE,salaryMethodCode:this.dialogDatas.payway.value.DICVALUE,fileType:this.dialogDatas.certificate.value.DICVALUE,companyProvice:this.selectedAddress.province.code,companyCity:this.selectedAddress.city.code,companyCounty:this.selectedAddress.area.code,fileUrl:this.addWorker.fileUrl,$router:this.$router};this.saveWorker(a)}else{this.errors=e;var o=Object.keys(e),t="validate.".concat(e[o[0]].type);Object(b["b"])(this.$i18n.t(t))}}})},m=j,A=(o("b8c4"),o("2877")),O=Object(A["a"])(m,s,r,!1,null,"6105d794",null);a["default"]=O.exports},b8c4:function(e,a,o){"use strict";var t=o("8d7b"),s=o.n(t);s.a}}]);