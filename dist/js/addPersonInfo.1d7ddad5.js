(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addPersonInfo"],{"069a":function(e,a,t){"use strict";t.r(a);var o,s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"addprofessional"},[t("jy-n-field",{attrs:{label:e.$t("addocr.fullname"),type:"textarea",rows:"1",autosize:"",disabled:""},model:{value:e.addPersonal.fullname,callback:function(a){e.$set(e.addPersonal,"fullname",a)},expression:"addPersonal.fullname"}}),t("jy-n-field",{attrs:{label:e.$t("addocr.ktp"),disabled:"",type:"number",maxlength:"16"},model:{value:e.addPersonal.ktp,callback:function(a){e.$set(e.addPersonal,"ktp",a)},expression:"addPersonal.ktp"}}),t("jy-n-field",{attrs:{label:e.$t("addocr.sex"),disabled:""},model:{value:e.addPersonal.sex,callback:function(a){e.$set(e.addPersonal,"sex",a)},expression:"addPersonal.sex"}}),t("jy-n-field",{attrs:{type:"textarea",rows:"1",label:e.$t("addPersonal.surname"),maxlength:"255",autosize:""},model:{value:e.addPersonal.surname,callback:function(a){e.$set(e.addPersonal,"surname",a)},expression:"addPersonal.surname"}}),t("jy-n-field",{attrs:{label:e.$t("addPersonal.education"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("education")}},model:{value:e.dialogDatas.education.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.education.value,"DICNAME",a)},expression:"dialogDatas.education.value.DICNAME"}}),t("jy-n-field",{attrs:{label:e.$t("addPersonal.marriage"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("maritalStatus")}},model:{value:e.dialogDatas.maritalStatus.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.maritalStatus.value,"DICNAME",a)},expression:"dialogDatas.maritalStatus.value.DICNAME"}}),t("jy-n-field",{attrs:{label:e.$t("addPersonal.chilNumber"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("childrenNum")}},model:{value:e.dialogDatas.childrenNum.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.childrenNum.value,"DICNAME",a)},expression:"dialogDatas.childrenNum.value.DICNAME"}}),t("jy-n-field",{attrs:{label:e.$t("addPersonal.area"),"arrow-icon":"jy-jiantou_you",disabled:"",type:"textarea",rows:"1",autosize:""},on:{"click-arrow-icon":function(a){return e.showDialog("area")}},model:{value:e.area,callback:function(a){e.area=a},expression:"area"}}),t("div",{staticClass:"add-margin"}),t("jy-n-field",{attrs:{type:"textarea",rows:"1",label:e.$t("addPersonal.address"),maxlength:"255",autosize:""},model:{value:e.addPersonal.address,callback:function(a){e.$set(e.addPersonal,"address",a)},expression:"addPersonal.address"}}),t("jy-n-field",{attrs:{label:e.$t("addPersonal.liveTime"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("residenceLength")}},model:{value:e.dialogDatas.residenceLength.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.residenceLength.value,"DICNAME",a)},expression:"dialogDatas.residenceLength.value.DICNAME"}}),t("jy-n-field",{attrs:{label:e.$t("addPersonal.purpose"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":function(a){return e.showDialog("loanPurpose")}},model:{value:e.dialogDatas.loanPurpose.value.DICNAME,callback:function(a){e.$set(e.dialogDatas.loanPurpose.value,"DICNAME",a)},expression:"dialogDatas.loanPurpose.value.DICNAME"}}),t("div",{staticClass:"add-margin"}),t("jy-n-field",{attrs:{type:"textarea",rows:"1",placeholder:e.$t("addPersonal.whatsapp"),maxlength:"255",autosize:""},model:{value:e.addPersonal.whatsapp,callback:function(a){e.$set(e.addPersonal,"whatsapp",a)},expression:"addPersonal.whatsapp"}}),t("section",[t("jy-button",{attrs:{loading:e.saving,type:"primary",size:"large","loading-type":"spinner",disabled:e.hasEmpty},on:{click:e.handleSave}},[e._v(e._s(e.$t("addocr.save")))])],1),t("jy-n-radio-dialog",{attrs:{options:e.chooseObj.options,"selected-option":e.chooseObj.value,"confirm-button-text":"OKE","cancel-button-text":"BATAL","cancel-button-color":"#4285F4","close-on-click-overlay":""},on:{cancel:e.onCancel,confirm:e.onSelect},model:{value:e.show,callback:function(a){e.show=a},expression:"show"}}),t("jy-n-pop-area",{attrs:{districts:e.areaList,province:e.selectedAddress.province.value,city:e.selectedAddress.city.value,area:e.selectedAddress.area.value,title:e.$t("addressPop.choose"),placeholders:e.columnsPlaceholder,"close-on-click-overlay":""},on:{select:e.onSelectAddress},model:{value:e.showArea,callback:function(a){e.showArea=a},expression:"showArea"}})],1)},n=[],l=(t("a4d3"),t("4de4"),t("4160"),t("b0c0"),t("e439"),t("dbb4"),t("b64b"),t("159b"),t("2fa7")),r=(t("2805"),t("a9bb")),i=(t("23de"),t("4223")),d=(t("6e0d"),t("307b")),c=(t("7804"),t("d2a5")),u=(t("28a4"),t("4357")),p=(t("546f"),t("e2f0")),h=(t("e082"),t("ded0")),b=(t("4747"),t("c96e")),f=t("2f62"),m=t("2ef0"),v=t("ed08"),g=t("61f7"),y=t("5f87"),P=t("b893"),j=t("365c");function O(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function D(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?O(t,!0).forEach((function(a){Object(l["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var A={components:(o={},Object(l["a"])(o,b["a"].name,b["a"]),Object(l["a"])(o,h["a"].Component.name,h["a"].Component),Object(l["a"])(o,p["a"].name,p["a"]),Object(l["a"])(o,u["a"].name,u["a"]),Object(l["a"])(o,c["a"].name,c["a"]),Object(l["a"])(o,d["a"].name,d["a"]),Object(l["a"])(o,i["a"].name,i["a"]),Object(l["a"])(o,r["a"].name,r["a"]),o),data:function(){return{show:!1,areaList:{},showArea:!1,selectedAddress:{province:{code:"",value:""},city:{code:"",value:""},area:{code:"",value:""}},columnsPlaceholder:{province:"provinsi",city:"cota",area:"kecamatan"},addPersonal:{fullname:"",ktp:"",sex:"",surname:"",address:"",whatsapp:""},errors:{},chooseObj:{type:"",options:[],value:{}},dialogDatas:{education:{type:"education",options:[],value:{}},maritalStatus:{type:"maritalStatus",options:[],value:{}},childrenNum:{type:"childrenNum",options:[],value:{}},residenceLength:{type:"residenceLength",options:[],value:{}},loanPurpose:{type:"loanPurpose",options:[],value:{}}},saving:!1}},created:function(){Object(v["c"])({action:"jyAppGoPage",data:{pagerName:"addpersoninfo",pagerTitle:this.$i18n.t("pageTitle.addpersoninfo"),pagerType:"0"}});var e=this.$route.query,a=e.applyId,t=e.cardNo,o=e.customerName,s=e.sexValue;if(this.applyId=a,t&&o&&s)this.addPersonal.fullname=o,this.addPersonal.ktp=t,this.addPersonal.sex=s;else{var n=this.addOcR();Object(m["isEmpty"])(n)||Object(m["isEmpty"])(n.customerName)?this.getAddOCRFromServer():(this.addPersonal.fullname=n.customerName,this.addPersonal.ktp=n.cardNo,this.addPersonal.sex=n.sexValue)}this.setDialogDatas(),this.dealAreaList()},mounted:function(){this.getProcessData()},watch:{"addPersonal.address":{handler:function(e){console.log("=====addPersonal.address======",e),Object(P["g"])(e)&&(Object(v["b"])(this.$i18n.t("validate.noEmoj")),this.addPersonal.address=Object(P["b"])(e))}},"addPersonal.surname":{handler:function(e){console.log("=====addPersonal.surname======",e),Object(P["g"])(e)&&(Object(v["b"])(this.$i18n.t("validate.noEmoj")),this.addPersonal.surname=Object(P["b"])(e)),Object(P["h"])(e)&&(Object(v["b"])(this.$i18n.t("validate.noNumber")),this.addPersonal.surname=Object(P["c"])(e))}},"addPersonal.whatsapp":{handler:function(e){console.log("=====addPersonal.whatsapp======",e),Object(P["g"])(e)&&(Object(v["b"])("请不要输入表情"),this.addPersonal.whatsapp=Object(P["b"])(e))}}},computed:{area:function(){return this.selectedAddress.province.value+" "+this.selectedAddress.city.value+" "+this.selectedAddress.area.value},hasEmpty:function(){return console.log("aaaa"),Object(g["c"])(this.addPersonal,this.dialogDatas,this.selectedAddress)}},methods:D({showDialog:function(e){"area"===e?this.showArea=!0:(this.show=!0,this.chooseObj=this.dialogDatas[e])},onSelect:function(e){this.show=!1,e&&(this.chooseObj.value=e,this.$set(this.dialogDatas[this.chooseObj.type],"value",e),console.log(this.dialogDatas))},onCancel:function(){this.show=!1},onSelectAddress:function(e){console.log(e),e&&(this.selectedAddress=e,this.showArea=!1)},getProcessData:function(){var e=this.getProcess();Object(m["isEmpty"])(e)&&this.queryProcess({custId:Object(y["a"])()})},handleSave:function(){var e={applyId:this.applyId,custId:Object(y["a"])(),phone:Object(y["b"])(),surname:this.addPersonal.surname,address:this.addPersonal.address,whatsapp:this.addPersonal.whatsapp,educationCode:this.dialogDatas.education.value.DICVALUE,maritalStatusCode:this.dialogDatas.maritalStatus.value.DICVALUE,childrenNumCode:this.dialogDatas.childrenNum.value.DICVALUE,residenceLengthCode:this.dialogDatas.residenceLength.value.DICVALUE,loanPurposeCode:this.dialogDatas.loanPurpose.value.DICVALUE,liveProvince:this.selectedAddress.province.code,liveCity:this.selectedAddress.city.code,liveCounty:this.selectedAddress.area.code,$router:this.$router};this.savePersonal(e)},dealAreaList:function(){var e=this.getAreaList();Object(m["isEmpty"])(e)?(console.log("原生获取省市区"),this.jyAppSysAreas()):(console.log("vuex获取省市区"),this.areaList=e)},jyAppSysAreas:function(){var e=this;Object(v["c"])({action:"jyAppSysAreas",callback:function(a){console.log("jyAppSysAreascallback======>",a),e.setArealist(a),e.areaList=a},data:{languageType:"NY"}})}},Object(f["c"])(["addOcR","getDictionary","getAreaList","getProcess"]),{},Object(f["b"])(["savePersonal","setArealist","queryProcess"]),{getAddOCRFromServer:function(){var e=this;try{j["a"].getOcrAuthenticationInfo({custId:Object(y["a"])()}).then((function(a){if(a&&a.data&&"0000"===a.data.retCode){var t=a.data.responseBody,o=t.customerName,s=t.cardNo,n=t.sexCode;e.addPersonal.fullname=o,e.addPersonal.ktp=s,e.addPersonal.sex=n}}))}catch(a){Object(v["b"])(this.$i18n.t("internetError"))}},setDialogDatas:function(){var e=this.getDictionary(),a=e.APP_EDUCATION,t=e.APP_RESIDENCE_LENGTH,o=e.APP_MARITAL_STATUS,s=e.APP_CHILDREN_NUM,n=e.APP_LOAN_PURPOSE;this.dialogDatas.education.options=a,this.dialogDatas.maritalStatus.options=o,this.dialogDatas.childrenNum.options=s,this.dialogDatas.residenceLength.options=t,this.dialogDatas.loanPurpose.options=n}})},w=A,C=(t("c24e"),t("2877")),N=Object(C["a"])(w,s,n,!1,null,"f9146f24",null);a["default"]=N.exports},b1ef:function(e,a,t){},c24e:function(e,a,t){"use strict";var o=t("b1ef"),s=t.n(o);s.a},ded0:function(e,a,t){"use strict";var o,s=t("c31d"),n=t("2b0e"),l=t("c709"),r=t("67b7");function i(e){return document.body.contains(e)}function d(){o&&o.$destroy(),o=new(n["a"].extend(l["a"]))({el:document.createElement("div"),propsData:{lazyRender:!1}}),o.$on("input",(function(e){o.value=e}))}function c(e){return r["d"]?Promise.resolve():new Promise((function(a,t){o&&i(o.$el)||d(),Object(s["a"])(o,c.currentOptions,e,{resolve:a,reject:t})}))}c.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(e){o["confirm"===e?"resolve":"reject"](e)}},c.alert=c,c.confirm=function(e){return c(Object(s["a"])({showCancelButton:!0},e))},c.close=function(){o&&(o.value=!1)},c.setDefaultOptions=function(e){Object(s["a"])(c.currentOptions,e)},c.resetDefaultOptions=function(){c.currentOptions=Object(s["a"])({},c.defaultOptions)},c.resetDefaultOptions(),c.install=function(){n["a"].use(l["a"])},c.Component=l["a"],n["a"].prototype.$dialog=c,a["a"]=c},e082:function(e,a,t){"use strict";t("94df"),t("c457"),t("865a"),t("edf5")}}]);