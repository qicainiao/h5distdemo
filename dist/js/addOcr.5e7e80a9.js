(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addOcr"],{3055:function(e,t,o){},"546f":function(e,t,o){"use strict";o("94df"),o("c457"),o("865a"),o("edf5"),o("3055"),o("a48a")},"61f7":function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return c})),o.d(t,"f",(function(){return l})),o.d(t,"g",(function(){return u})),o.d(t,"e",(function(){return d}));o("0d03"),o("d3b7"),o("25f0");var n=o("2ef0");function a(e,t){return Object(n["isEmpty"])(e.fileBase64)||Object(n["isEmpty"])(e.customerName)||Object(n["isEmpty"])(e.cardNo)||Object(n["isEmpty"])(t.value.DICVALUE)}function i(e,t){return Object(n["isEmpty"])(e.contact1)||Object(n["isEmpty"])(e.contact1.value)||Object(n["isEmpty"])(e.contact1.value.DICNAME)||Object(n["isEmpty"])(e.contact2.value)||Object(n["isEmpty"])(e.contact2.value.DICNAME)||Object(n["isEmpty"])(t.name1)||Object(n["isEmpty"])(t.phone1)||Object(n["isEmpty"])(t.name2)||Object(n["isEmpty"])(t.phone2)}function r(e,t,o){return Object(n["isEmpty"])(e.surname)||Object(n["isEmpty"])(e.address)||Object(n["isEmpty"])(t.education.value)||Object(n["isEmpty"])(t.education.value.DICNAME)||Object(n["isEmpty"])(t.maritalStatus.value)||Object(n["isEmpty"])(t.maritalStatus.value.DICNAME)||Object(n["isEmpty"])(t.childrenNum.value)||Object(n["isEmpty"])(t.childrenNum.value.DICNAME)||Object(n["isEmpty"])(t.residenceLength.value)||Object(n["isEmpty"])(t.residenceLength.value.DICNAME)||Object(n["isEmpty"])(t.loanPurpose.value)||Object(n["isEmpty"])(t.loanPurpose.value.DICNAME)||Object(n["isEmpty"])(o.province.value)||Object(n["isEmpty"])(o.city.value)||Object(n["isEmpty"])(o.area.value)}function c(e,t,o){return Object(n["isEmpty"])(e.company)||Object(n["isEmpty"])(e.address)||Object(n["isEmpty"])(e.phone)||Object(n["isEmpty"])(e.fileBase64)||Object(n["isEmpty"])(t.worker.value)||Object(n["isEmpty"])(t.worker.value.DICNAME)||Object(n["isEmpty"])(t.income.value)||Object(n["isEmpty"])(t.income.value.DICNAME)||Object(n["isEmpty"])(t.salaryDate.value)||Object(n["isEmpty"])(t.salaryDate.value.DICNAME)||Object(n["isEmpty"])(t.payway.value.DICNAME)||Object(n["isEmpty"])(t.certificate.value)||Object(n["isEmpty"])(t.certificate.value.DICNAME)||Object(n["isEmpty"])(o.province.value)||Object(n["isEmpty"])(o.city.value)||Object(n["isEmpty"])(o.area.value)}var s={};function l(e,t){s={};var o=/[\d]/;o.test(e)&&(s.customerName={error:!0,type:"customerNameReg1"}),e.length>255&&(s.customerName={error:!0,type:"customerNameReg2"});var n=/^(\d{16})$/;return n.test(t)||(s.cardNo={error:!0,type:"cardNoReg1"}),s}function u(e){s={};var t=/^[0-9]{7,12}$/;return t.test(e)||(s.phone={error:!0,type:"phoneReg1"}),s}function d(e,t,o,n){if(e==o||t==n)return!0}},"6e0d":function(e,t,o){"use strict";o("94df"),o("865a")},7804:function(e,t,o){"use strict";o("94df")},"96b6":function(e,t,o){"use strict";var n=o("eba5"),a=o.n(n);a.a},a48a:function(e,t,o){},d2a5:function(e,t,o){"use strict";var n=o("2638"),a=o.n(n),i=o("c20f"),r=o("020a"),c=o("100e"),s=Object(i["a"])("cell-group"),l=s[0],u=s[1];function d(e,t,o,n){var i,s=e("div",a()([{class:[u(),(i={},i[c["e"]]=t.border,i)]},Object(r["b"])(n,!0)]),[o.default&&o.default()]);return t.title||o.title?e("div",[e("div",{class:u("title")},[o.title?o.title():t.title]),s]):s}d.props={title:String,border:{type:Boolean,default:!0}},t["a"]=l(d)},ded0:function(e,t,o){"use strict";var n,a=o("c31d"),i=o("2b0e"),r=o("c709"),c=o("67b7");function s(e){return document.body.contains(e)}function l(){n&&n.$destroy(),n=new(i["a"].extend(r["a"]))({el:document.createElement("div"),propsData:{lazyRender:!1}}),n.$on("input",(function(e){n.value=e}))}function u(e){return c["d"]?Promise.resolve():new Promise((function(t,o){n&&s(n.$el)||l(),Object(a["a"])(n,u.currentOptions,e,{resolve:t,reject:o})}))}u.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(e){n["confirm"===e?"resolve":"reject"](e)}},u.alert=u,u.confirm=function(e){return u(Object(a["a"])({showCancelButton:!0},e))},u.close=function(){n&&(n.value=!1)},u.setDefaultOptions=function(e){Object(a["a"])(u.currentOptions,e)},u.resetDefaultOptions=function(){u.currentOptions=Object(a["a"])({},u.defaultOptions)},u.resetDefaultOptions(),u.install=function(){i["a"].use(r["a"])},u.Component=r["a"],i["a"].prototype.$dialog=u,t["a"]=u},e082:function(e,t,o){"use strict";o("94df"),o("c457"),o("865a"),o("edf5")},e2f0:function(e,t,o){"use strict";var n=o("c31d"),a=o("c20f"),i=o("6c3f"),r=o("c709"),c=o("2b0e");function s(e){var t=[];function o(e){e.forEach((function(e){t.push(e),e.children&&o(e.children)}))}return o(e),t}function l(e,t){var o,n;void 0===t&&(t={});var a=t.indexKey||"index";return c["a"].extend({inject:(o={},o[e]={default:null},o),computed:(n={parent:function(){return this.disableBindRelation?null:this[e]}},n[a]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},n),mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]),t=s(this.parent.slots());e.sort((function(e,o){return t.indexOf(e.$vnode)-t.indexOf(o.$vnode)})),this.parent.children=e}}}})}function u(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}var d=Object(a["a"])("radio-group"),h=d[0],p=d[1],f=h({mixins:[u("vanRadio")],props:{value:null,disabled:Boolean,checkedColor:String,iconSize:[Number,String]},watch:{value:function(e){this.$emit("change",e)}},render:function(){var e=arguments[0];return e("div",{class:p(),attrs:{role:"radiogroup"}},[this.slots()])}}),b=o("307b"),m=o("296d"),O=function(e){var t=e.parent,o=e.bem,n=e.role;return{mixins:[l(t)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var e=this.checkedColor||this.parent&&this.parent.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}},tabindex:function(){return this.isDisabled||"radio"===n&&!this.checked?-1:0}},methods:{onClick:function(e){var t=this.$refs.label,o=e.target,n=t&&(t===o||t.contains(o));this.isDisabled||n&&this.labelDisabled||this.toggle(),this.$emit("click",e,this.name,this.value)}},render:function(){var e=arguments[0],t=this.slots,a=this.checked,i=t("icon",{checked:a})||e(b["a"],{attrs:{name:"success"},style:this.iconStyle}),r=t()&&e("span",{ref:"label",class:o("label",[this.labelPosition,{disabled:this.isDisabled}])},[t()]),c=this.iconSize||this.parent&&this.parent.iconSize,s=[e("div",{class:o("icon",[this.shape,{disabled:this.isDisabled,checked:a}]),style:{fontSize:Object(m["a"])(c)}},[i])];return"left"===this.labelPosition?s.unshift(r):s.push(r),e("div",{attrs:{role:n,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:o(),on:{click:this.onClick}},[s])}}},y=Object(a["a"])("radio"),v=y[0],j=y[1],g=v({mixins:[O({bem:j,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(e){(this.parent||this).$emit("input",e)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}}),C=Object(a["a"])("n-radio-dialog"),E=C[0],D=C[1];t["a"]=E({props:Object(n["a"])({},i["a"].props,{value:Boolean,title:String,actions:Array,duration:Number,cancelButtonText:String,confirmButtonText:String,cancelButtonColor:String,confirmButtonColor:String,selectedOption:{type:Object,default:function(){}},round:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},options:{type:Array,default:function(){return[]}},radioSelectIconName:{type:String,default:"jy-radio_checked"},radioDefultconName:{type:String,default:"jy-radio"},radioSelectColor:{type:String,default:"#4285F4"},radioDefaultColor:{type:String,default:"#7B7B7B"},radioSize:{type:String,default:"20px"},itemHeight:{type:Number,default:30}}),data:function(){return{show:this.value,radioSelected:"",currentValueCode:this.getDefaultSelect()}},watch:{show:function(e){var t=this,o=0,n=0;if(this.$emit("input",e),e){if(this.currentValueCode=this.getDefaultSelect(),e&&this.currentValueCode){for(n in this.options)if(this.currentValueCode===this.options[n].DICVALUE){o=n;break}o>7&&this.$nextTick((function(){var e=document.getElementsByClassName("van-radio-group");e&&e[0]&&(e[0].scrollTop=o*t.itemHeight)}))}}else this.$emit("cancel")},value:function(e){this.show=e},selectedOption:function(e){this.currentValueCode=e.DICVALUE||this.getDefaultSelect()}},methods:{getDefaultSelect:function(){return this.selectedOption&&this.selectedOption.DICVALUE||this.options&&this.options.length>0&&this.options[0].DICVALUE||""},onCancel:function(){this.currentValueCode=this.getDefaultSelect(),this.$emit("cancel"),this.$emit("input",!1)},onConfirm:function(){var e=this;this.$emit("input",!1),this.$emit("confirm",this.options.filter((function(t){return t.DICVALUE===e.currentValueCode}))[0])},radioChange:function(e,t){this.currentValueCode=t}},render:function(){var e=this,t=arguments[0];return t(r["a"],{class:D(),attrs:{getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom,showCancelButton:!0,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText,cancelButtonColor:this.cancelButtonColor},on:{cancel:this.onCancel,confirm:this.onConfirm},model:{value:e.show,callback:function(t){e.show=t}}},[t(f,{attrs:{value:this.currentValueCode}},[this.options.map((function(o,n){return t(g,{attrs:{name:o.DICVALUE},on:{click:e.radioChange},key:n,ref:"ref"+o.DICVALUE},[o.DICNAME,o.DICVALUE===e.currentValueCode?t(b["a"],{slot:"icon",attrs:{color:e.radioSelectColor,size:e.radioSize,name:"jy-radio_checked"}}):t(b["a"],{slot:"icon",attrs:{name:"jy-radio",color:e.radioDefaultColor,size:e.radioSize}})])}))])])}})},eba5:function(e,t,o){},ed59:function(e,t,o){"use strict";o.r(t);var n,a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"addprofessional"},[o("span",{staticClass:"addprofessional-label"},[e._v(e._s(e.$t("addocr.addphoto")))]),o("div",{staticClass:"photo",on:{click:e.jyAppTakephoto}},[e.addOcr.fileUrl?o("img",{staticClass:"photo-img",attrs:{src:e.addOcr.fileUrl}}):o("jy-icon",{attrs:{name:"photograph",color:"#4285F4",size:"40px"}})],1),o("p",[e._v(e._s(e.$t("addocr.phoneTip")))]),o("div",{staticClass:"add-margin"}),o("jy-n-field",{attrs:{error:e.errors&&e.errors.customerName&&e.errors.customerName.error,label:e.$t("addocr.fullname"),maxlength:"255",autosize:"",type:"textarea",rows:"1"},model:{value:e.addOcr.customerName,callback:function(t){e.$set(e.addOcr,"customerName",t)},expression:"addOcr.customerName"}}),o("jy-n-field",{attrs:{error:e.errors&&e.errors.cardNo&&e.errors.cardNo.error,label:e.$t("addocr.ktp"),type:"number",maxlength:"16"},model:{value:e.addOcr.cardNo,callback:function(t){e.$set(e.addOcr,"cardNo",t)},expression:"addOcr.cardNo"}}),o("jy-n-field",{attrs:{label:e.$t("addocr.sex"),"arrow-icon":"jy-jiantou_you",disabled:""},on:{"click-arrow-icon":e.onClickAlert},model:{value:e.chooseObj.value.DICNAME,callback:function(t){e.$set(e.chooseObj.value,"DICNAME",t)},expression:"chooseObj.value.DICNAME"}}),o("section",[o("jy-button",{attrs:{loading:e.saving,type:"primary",size:"large","loading-type":"spinner",disabled:e.hasEmpty},on:{click:e.handleSave}},[e._v(e._s(e.$t("addocr.save")))])],1),o("jy-n-radio-dialog",{attrs:{options:e.chooseObj.options,"selected-option":e.chooseObj.value,"confirm-button-text":"OKE","cancel-button-text":"BATAL","cancel-button-color":"#4285F4","close-on-click-overlay":""},on:{cancel:e.onCancel,confirm:e.onSelect},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}})],1)},i=[],r=(o("a4d3"),o("4de4"),o("4160"),o("c975"),o("0d03"),o("b0c0"),o("e439"),o("dbb4"),o("b64b"),o("159b"),o("2fa7")),c=(o("94df"),o("865a"),o("4c7a")),s=(o("546f"),o("e2f0")),l=(o("e082"),o("ded0")),u=(o("6e0d"),o("307b")),d=(o("7804"),o("d2a5")),h=(o("28a4"),o("4357")),p=(o("4747"),o("c96e")),f=o("2f62"),b=o("2ef0"),m=o("61f7"),O=o("5f87"),y=o("b893"),v=o("ed08");function j(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function g(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?j(o,!0).forEach((function(t){Object(r["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):j(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var C={components:(n={},Object(r["a"])(n,p["a"].name,p["a"]),Object(r["a"])(n,h["a"].name,h["a"]),Object(r["a"])(n,d["a"].name,d["a"]),Object(r["a"])(n,u["a"].name,u["a"]),Object(r["a"])(n,l["a"].Component.name,l["a"].Component),Object(r["a"])(n,s["a"].name,s["a"]),Object(r["a"])(n,c["a"].name,c["a"]),n),data:function(){return{isSave:!1,file:void 0,addOcr:{fileBase64:"",fileUrl:"",customerName:"",cardNo:"",ocrRetBody:{}},errors:{},chooseObj:{type:"",options:[],value:{}},showDialog:!1,saving:!1}},created:function(){Object(v["c"])({action:"jyAppGoPage",data:{pagerName:"addocr",pagerTitle:this.$i18n.t("pageTitle.addocr"),pagerType:"0"}})},mounted:function(){var e=this.$route.query.applyId;this.applyId=e,this.getSexData(),this.getProcessData()},computed:{hasEmpty:function(){return Object(m["b"])(this.addOcr,this.chooseObj)}},watch:{file:function(e,t){console.log("================",e,t);var o=new FormData;o.append("file",e),this.saveOCRPhoto(o)},"addOcr.customerName":{handler:function(e){Object(y["g"])(e)&&(Object(v["b"])(this.$i18n.t("validate.noEmoj")),this.addOcr.customerName=Object(y["b"])(e)),Object(y["h"])(e)&&(Object(v["b"])(this.$i18n.t("validate.noNumber")),this.addOcr.customerName=Object(y["c"])(e))}},"$store.state.addprofessional.ocrPhoto":function(e){this.addOcr.fileUrl=e},"$store.state.addprofessional.addOcR":function(e){if(console.log("$store.state.addprofessional.addOcR===>",e,this.chooseObj.options),this.addOcr.customerName=e.name,this.addOcr.cardNo=e.idNumber,this.addOcr.ocrRetBody=e.ocrRetBody,e.gender){var t=this.chooseObj.options.filter((function(t){return Object(y["j"])().indexOf(t.DICNAME)>-1&&Object(y["j"])().indexOf(e.gender)>-1||(Object(y["k"])().indexOf(t.DICNAME)>-1&&Object(y["k"])().indexOf(e.gender)>-1||void 0)}));console.log("option===>",t),Object(b["isEmpty"])(t)||(this.chooseObj.value=t[0])}}},methods:g({jyAppTakephoto:function(){var e=this;Object(v["c"])({action:"jyAppTakephoto",callback:function(t){Object(v["d"])(!0),e.addOcr.fileBase64="data:image/png;base64,"+t.base64FileString,e.file=Object(y["a"])("data:image/png;base64,".concat(t.base64FileString),"".concat((new Date).valueOf(),".png"))},data:{width:0,height:0,iscompress:!1}})},getSexData:function(){var e=this.getDictionary(),t=e.APP_SEX;console.log("APP_SEX==========>",t),this.chooseObj.options=t},getProcessData:function(){var e=this.getProcess();console.log("getProcessData====>",e),Object(b["isEmpty"])(e)&&(console.log("queryProcess====>"),this.queryProcess({custId:Object(O["a"])()}))},onClickAlert:function(){this.showDialog=!0},onSelect:function(e){e&&(this.chooseObj.value=e),this.showDialog=!1},onCancel:function(){this.showDialog=!1},handleSave:function(){var e=Object(m["f"])(this.addOcr.customerName,this.addOcr.cardNo);if(Object(b["isEmpty"])(e)){var t={applyId:this.applyId,custId:Object(O["a"])(),fileUrl:this.addOcr.fileUrl,customerName:this.addOcr.customerName,cardNo:this.addOcr.cardNo,sexCode:this.chooseObj.value.DICVALUE,sexValue:this.chooseObj.value.DICNAME,ocrRetBody:this.addOcr.ocrRetBody,$router:this.$router};Object(v["d"])(!0),this.saveOcr(t)}else{this.errors=e;var o=Object.keys(e),n="validate.".concat(e[o[0]].type);Object(v["b"])(this.$i18n.t(n))}}},Object(f["b"])(["saveOcr","saveOCRPhoto","queryProcess"]),{},Object(f["c"])(["getDictionary","getProcess"]))},E=C,D=(o("96b6"),o("2877")),N=Object(D["a"])(E,a,i,!1,null,"625687f5",null);t["default"]=N.exports}}]);